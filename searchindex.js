Search.setIndex({"docnames": ["docs/apache/Chroot-Apache", "docs/apache/Disable-SSI-and-CGI-execution", "docs/apache/Disable-directory-listing", "docs/apache/Hide-version-and-OS-identity", "docs/apache/README", "docs/apache/Restrict-file-and-directory-access", "docs/apache/mod_security", "docs/nginx/Chroot-Nginx", "docs/nginx/Disable-SSI-and-CGI-execution", "docs/nginx/Hide-version-and-OS-identity", "docs/nginx/README", "docs/nginx/Restrict-file-and-directory-access", "docs/nginx/mod_security", "index"], "filenames": ["docs/apache/Chroot-Apache.md", "docs/apache/Disable-SSI-and-CGI-execution.md", "docs/apache/Disable-directory-listing.md", "docs/apache/Hide-version-and-OS-identity.md", "docs/apache/README.md", "docs/apache/Restrict-file-and-directory-access.md", "docs/apache/mod_security.md", "docs/nginx/Chroot-Nginx.md", "docs/nginx/Disable-SSI-and-CGI-execution.md", "docs/nginx/Hide-version-and-OS-identity.md", "docs/nginx/README.md", "docs/nginx/Restrict-file-and-directory-access.md", "docs/nginx/mod_security.md", "index.rst"], "titles": ["Chroot Apache", "Disable SSI and CGI execution", "Disable directory listing", "Hide version and OS identity", "Apache", "Restrict file and directory access", "Install and use mod_security", "Chroot Nginx", "Disable SSI and CGI execution", "Hide version and OS identity", "Nginx", "Restrict file and directory access", "Install and use mod_security", "Webserver mitigations"], "terms": {"instal": [0, 4, 7, 8, 10, 13], "jail": [0, 7], "doe": [0, 7], "make": [0, 6, 7, 8, 12], "ani": [0, 1, 2], "more": [0, 6, 11, 12], "secur": [0, 1, 2, 3, 6, 8, 12], "itself": 0, "restrict": [0, 4, 10, 13], "access": [0, 4, 7, 10, 13], "its": [0, 11], "child": 0, "process": [0, 1, 8], "small": 0, "subset": 0, "filesystem": [0, 7], "It": [0, 7], "prevent": [0, 2, 5, 6], "break": [0, 7], "contain": 0, "potenti": 0, "threat": [0, 1, 2], "If": [0, 1], "i": [0, 1, 2, 6, 7, 8, 11, 12], "compromis": [0, 1, 7], "an": [0, 1, 7, 8], "intrud": [0, 1], "have": [0, 1, 6, 12], "onli": [0, 2, 7, 8], "file": [0, 1, 2, 4, 6, 7, 8, 10, 12, 13], "within": 0, "danger": 0, "script": [0, 1, 6, 7, 11], "do": [0, 1, 2, 7], "server": [0, 1, 2, 3, 7, 8, 9, 11, 12], "": [0, 7], "web": [0, 3, 5, 6, 12], "tree": 0, "one": [0, 1, 11], "area": 0, "easi": 0, "back": 0, "up": [0, 3], "move": 0, "A": [0, 1, 6], "environ": 0, "can": [0, 1, 2, 8], "difficult": 0, "set": [0, 1, 3, 6, 12], "especi": 0, "when": [0, 7, 8], "run": [0, 7, 11], "extern": [0, 8], "softwar": 0, "perl": 0, "php": [0, 6, 11], "mysql": 0, "python": 0, "work": 0, "entir": 0, "exist": [0, 7], "singl": 0, "step": 0, "ar": [0, 1], "similar": 0, "ones": 0, "us": [0, 1, 4, 5, 7, 8, 10, 13], "creat": [0, 6, 7, 12], "simpl": 0, "bash": 0, "l": [0, 7], "build": 0, "virtual": 0, "root": [0, 2], "everi": 0, "program": [0, 1, 8], "mai": [0, 2], "need": [0, 6, 7], "For": [0, 7, 9, 12], "just": [0, 7], "slightli": 0, "complex": 0, "librari": [0, 7], "c": [0, 7, 9], "libssl": [0, 7], "libm": [0, 7], "libmysqlcli": 0, "resolv": [0, 7], "configur": [0, 1, 2, 7, 8, 11, 12], "etc": [0, 2, 3, 6, 7], "nsswitch": [0, 7], "conf": [0, 2, 3, 6, 7, 9, 11, 12], "user": [0, 1, 5], "passwd": 0, "group": 0, "separ": 0, "directori": [0, 1, 4, 7, 8, 10, 12, 13], "log": [0, 6], "addit": [0, 11], "modul": [0, 6, 8, 12], "mod_php": 0, "other": [0, 1, 11, 12], "And": [0, 3, 11, 12], "read": 0, "error": [0, 9], "messag": 0, "copi": [0, 7], "miss": 0, "start": [0, 7], "over": [0, 7], "puzzl": 0, "mania": 0, "fun": 0, "nobodi": 0, "default": [0, 1, 6], "mani": 0, "gain": [0, 2, 7], "all": [0, 1, 5, 7, 9, 11], "your": [0, 2], "system": [0, 1, 7], "under": 0, "uid": 0, "own": 0, "id": 0, "groupadd": 0, "useradd": 0, "d": [0, 3, 7], "dev": [0, 7, 12], "null": [0, 7], "g": [0, 7], "bin": [0, 1, 7], "fals": [0, 6, 12], "code": [0, 1], "mini": [0, 7], "version": [0, 2, 4, 10, 12, 13], "linux": [0, 7], "exampl": [0, 12], "partit": 0, "mount": [0, 7], "name": [0, 6], "httpd": 0, "mkdir": [0, 7], "lib": [0, 7], "p": [0, 7], "usr": [0, 7, 9], "sbin": [0, 7], "libexec": 0, "var": [0, 5, 6, 7, 11], "home": 0, "permiss": 0, "structur": 0, "chown": 0, "r": [0, 7], "chmod": [0, 7], "0755": 0, "750": 0, "see": [0, 8], "equival": 0, "mean": 0, "cannot": [0, 7, 8], "normal": 0, "devic": [0, 7], "mknod": [0, 7], "1": [0, 5, 7, 12], "3": [0, 7], "sy": 0, "666": 0, "shut": 0, "down": [0, 1], "killal": [0, 7], "necessari": 0, "cp": [0, 7], "html": [0, 6, 7, 12], "documentroot": 0, "cgi": [0, 13], "binari": 0, "ssl": 0, "mod_ssl": 0, "content": 0, "from": [0, 1, 5, 6, 12], "origin": [0, 12], "find": [0, 7, 8, 9], "ldd": [0, 7], "libsaf": 0, "so": [0, 7], "2": [0, 7], "0x40017000": 0, "6": [0, 7], "0x40037000": 0, "libcrypt": [0, 7], "0x40059000": 0, "libdb": 0, "0x40086000": 0, "libexpat": 0, "0": [0, 5, 6, 7], "0x40096000": 0, "libdl": [0, 7], "0x400b6000": 0, "libc": [0, 7], "0x400b9000": 0, "ld": [0, 7], "0x40000000": 0, "some": [0, 6, 11], "standard": 0, "network": 0, "function": 0, "libnss_compat": 0, "libnss_dn": 0, "libnss_fil": 0, "libnsl": 0, "edit": [0, 6, 7, 9], "entri": [0, 11], "first": 0, "x": 0, "12347": 0, "12348": 0, "host": [0, 7], "write": [0, 1, 7, 11], "protect": [0, 6, 12], "chattr": 0, "localtim": [0, 7], "symlink": 0, "share": [0, 7], "zoneinfo": 0, "out": [0, 7], "which": [0, 1, 6, 8], "lrwxrwxrwx": 0, "32": 0, "apr": 0, "15": 0, "48": [0, 9], "europ": 0, "pari": 0, "syslogd": 0, "monitor": 0, "daemon": 0, "thi": [0, 1, 2, 7, 11, 12], "too": 0, "startup": 0, "rc": [0, 7], "syslog": 0, "init": 0, "depend": [0, 12], "chang": [0, 2, 6, 9, 12], "m": [0, 6, 7], "them": 0, "touch": 0, "access_log": 0, "error_log": 0, "600": 0, "open": [0, 3], "command": [0, 1], "restart": [0, 3, 6, 12], "check": [0, 6, 7, 12], "aux": 0, "grep": [0, 6, 7], "take": 0, "number": [0, 9], "output": 0, "proc": 0, "proc_numb": 0, "troubleshoot": 0, "strace": 0, "redirect": 0, "give": [0, 11], "idea": 0, "where": 0, "problem": [0, 1], "li": 0, "mod_chroot": 0, "allow": [0, 1, 2, 5, 6, 11], "call": [0, 7, 11], "perform": 0, "end": [0, 8], "procedur": 0, "load": [0, 6], "As": [0, 2], "10": 0, "done": [0, 1], "referenc": 0, "chrootdir": 0, "mod_unixd": 0, "offer": 0, "4": 0, "part": [0, 11], "core": [0, 5, 6, 12], "compil": [0, 6, 8, 9, 12], "static": [0, 9], "The": [1, 5, 6, 8, 11, 12], "biggest": 1, "written": 1, "two": 1, "sourc": [1, 12], "common": [1, 6], "gatewai": 1, "interfac": 1, "side": 1, "includ": [1, 11], "exploit": 1, "poor": 1, "forc": 1, "buffer": 1, "overflow": 1, "pass": [1, 8], "shell": 1, "through": [1, 6], "befor": 1, "thei": [1, 7], "sent": 1, "client": [1, 5], "These": 1, "input": 1, "dynam": 1, "modifi": 1, "vulner": 1, "same": 1, "type": 1, "attack": [1, 2, 6, 7, 12], "administr": 1, "option": [1, 2], "complet": 1, "review": 1, "don": 1, "t": [1, 6, 7], "execcgi": 1, "unless": 1, "you": [1, 2, 8, 9], "re": [1, 12], "posit": 1, "place": 1, "been": [1, 6], "free": 1, "form": 1, "drop": [1, 6], "menu": 1, "instead": [1, 11], "keyboard": 1, "limit": [1, 5], "what": 1, "come": 1, "disallow": 1, "defin": [1, 12], "tag": [1, 6], "most": 1, "wai": 1, "oper": 1, "specifi": 1, "direct": [1, 2, 5], "exec": 1, "greatest": 1, "includesnoexec": 1, "hide": [2, 4, 10, 13], "o": [2, 4, 10, 13], "ident": [2, 4, 10, 13], "inform": 2, "add": [2, 7, 9, 12], "follow": [2, 5, 9], "apache2": [2, 3, 6], "global": 2, "wide": [2, 6, 12], "index": [2, 8, 11], "overwrit": 2, "insid": 2, "look": [2, 6, 12], "like": [2, 7, 12], "followsymlink": 2, "allowoverrid": 2, "none": 2, "accident": 2, "htaccess": [2, 5, 11], "after": 2, "enabl": [2, 12], "per": 2, "ad": 2, "www": [2, 5, 7, 12], "gener": [2, 9], "folder": 2, "servertoken": 3, "prod": 3, "serversignatur": 3, "off": [3, 8, 9, 12], "apach": [3, 6, 11, 12], "chroot": [4, 10, 13], "disabl": [4, 10, 13], "list": [4, 7, 8, 10, 13], "mod_secur": [4, 10, 13], "To": [5, 8, 11, 12], "deni": [5, 11], "order": 5, "192": 5, "168": 5, "24": 5, "com": [5, 12], "line": [5, 9, 11], "htpasswd": 5, "being": 5, "view": 5, "ht": 5, "satisfi": 5, "scope": 5, "enclos": 5, "url": 5, "locat": [5, 11, 12], "admin": 5, "emb": 6, "modsecur": [6, 12], "repositori": 6, "apt": [6, 12], "get": [6, 12], "libapache2": 6, "wa": [6, 12], "apachectl": 6, "color": 6, "renam": 6, "recommend": 6, "label": 6, "mv": 6, "new": [6, 12], "logfil": 6, "modsec_audit": 6, "ha": [6, 11], "detectiononli": 6, "request": [6, 8], "accord": 6, "rule": [6, 12], "match": 6, "doesn": 6, "block": [6, 11], "anyth": 6, "On": 6, "possibl": 6, "path": 6, "travers": 6, "secfilt": 6, "weaker": 6, "xss": 6, "space": 6, "atack": 6, "javascript": 6, "inject": 6, "n": 6, "veri": 6, "crude": 6, "filter": 6, "sql": 6, "delet": 6, "insert": 6, "select": 6, "tabl": 6, "session": 6, "cooki": 6, "secfilterselect": 6, "arg_phpsessid": 6, "9a": 6, "z": 6, "cookie_phpsessid": 6, "owasp": [6, 12], "project": [6, 12], "cr": [6, 12], "aim": [6, 12], "applic": [6, 12], "rang": [6, 12], "minimum": [6, 12], "alert": [6, 12], "local": [7, 9], "tmp": 7, "1777": 7, "lib64": 7, "random": 7, "urandom": 7, "avoid": [7, 11], "ensur": 7, "even": 7, "must": [7, 12], "import": 7, "sda1": 7, "0666": 7, "8": 7, "0444": 7, "9": [7, 12], "prefer": 7, "hardlink": 7, "sure": 7, "destroi": 7, "alter": 7, "true": 7, "vdso": 7, "0x00007fffc41fe000": 7, "libpthread": 7, "0x00007f57ec3e8000": 7, "0x00007f57ec1b1000": 7, "libstdc": 7, "0x00007f57ebead000": 7, "0x00007f57ebbaf000": 7, "libpcr": 7, "0x00007f57eb94c000": 7, "0x00007f57eb6e0000": 7, "libcrypto": 7, "0x00007f57eb2d6000": 7, "0x00007f57eb0d2000": 7, "libz": 7, "0x00007f57eaebc000": 7, "libgeoip": 7, "0x00007f57eac8d000": 7, "libgcc_": 7, "0x00007f57eaa77000": 7, "0x00007f57ea6ca000": 7, "x86": 7, "64": 7, "0x00007f57ec604000": 7, "try": 7, "real": 7, "sed": 7, "sre": 7, "libnss_": 7, "rfvl": 7, "servic": 7, "nscd": 7, "protocol": 7, "cach": 7, "kill": 7, "reboot": 7, "echo": 7, "cd": [7, 12], "vi": [7, 9], "n2chroot": 7, "test": 7, "bit": 7, "redhat": 7, "friend": 7, "base": 7, "point": 7, "nginx": [8, 9, 11, 12], "directli": 8, "phew": 8, "But": 8, "realli": 8, "want": 8, "fcgi": 8, "ngx_http_autoindex_modul": 8, "slash": 8, "charact": 8, "produc": 8, "usual": 8, "ngx_http_index_modul": 8, "requir": 8, "turn": [8, 9, 12], "while": [8, 11], "help": 8, "less": 8, "without": [8, 12], "http_autoindex_modul": 8, "http_ssi_modul": 8, "src": 9, "http": [9, 12], "ngx_http_header_filter_modul": 9, "char": 9, "ngx_http_server_str": 9, "crlf": 9, "ngx_http_server_full_str": 9, "nginx_ver": 9, "wish": 9, "save": 9, "close": 9, "displai": 9, "auto": 9, "page": 9, "server_token": 9, "compar": 11, "much": 11, "lightweight": 11, "approach": 11, "pars": 11, "scan": 11, "site": 11, "multipl": 11, "403": 11, "becaus": 11, "dir1": 11, "dir2": 11, "dir3": 11, "return": 11, "404": 11, "public": 11, "data": 11, "execut": [11, 13], "subdirectori": 11, "put": 11, "anoth": 11, "config": 11, "try_fil": 11, "uri": 11, "arg": 11, "twice": 11, "fastcgi_split_path_info": 11, "fastcgi_pass": 11, "unix": 11, "fpm": 11, "sock": 11, "fastcgi_index": 11, "fastcgi_param": 11, "develop": 12, "now": 12, "also": 12, "avail": 12, "platform": 12, "standalon": 12, "libxml2": 12, "util": 12, "libaprutil1": 12, "download": 12, "git": 12, "clone": 12, "github": 12, "spiderlab": 12, "autogen": 12, "sh": 12, "latest": 12, "here": 12, "org": 12, "en": 12, "wget": 12, "5": 12, "tar": 12, "gz": 12, "xvpzf": 12, "someth": 12, "listen": 12, "80": 12, "server_nam": 12, "localhost": 12, "modsecurityen": 12, "modsecurityconfig": 12, "custom": 12, "appli": 12, "differ": 12, "modsecurity3": 12, "proxy_pass": 12, "proxy_read_timeout": 12, "180": 12, "particular": 12, "unsecur": 12, "ssi": 13, "overview": 13}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"chroot": [0, 7], "apach": [0, 4, 13], "The": [0, 7], "autom": [0, 7], "wai": [0, 7], "disabl": [1, 2, 8], "ssi": [1, 8], "cgi": [1, 8], "execut": [1, 8], "directori": [2, 5, 11], "list": 2, "hide": [3, 9], "version": [3, 9], "o": [3, 9], "ident": [3, 9], "restrict": [5, 11], "file": [5, 11], "access": [5, 11], "instal": [6, 12], "us": [6, 12], "mod_secur": [6, 12], "usag": 6, "configur": 6, "resourc": 6, "nginx": [7, 10, 13], "autoindex": 8, "webserv": 13, "mitig": 13, "all": 13}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 56}})